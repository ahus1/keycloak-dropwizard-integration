<html>
<head>
    <title>Lottery Calculator</title>
    <script src="http://localhost:8080/auth/js/keycloak.js"></script>
    <script>
        var keycloak = Keycloak();
        keycloak.init({ onLoad: 'login-required' }).success(function(authenticated) {
            alert(authenticated ? 'authenticated' : 'not authenticated');
        }).error(function() {
            alert('failed to initialize');
        });
    </script></head>
<body>

Hello, ${bean.idToken.name}! (<a href="logout" name="logout">logout</a>)

<p />

<form name="draw" action="/draw" method="post">
    Date: <input type="text" name="date"/> <br/>
    <input type="submit" value="Draw!" name="draw"/>
</form>

<p />

<#if bean.draw??>
    <b>Draw for ${bean.draw.date}</b>
    <br>
    The lucky numbers are:<br>
    <#list bean.draw.numbers as number>
        ${number}<br>
    </#list>
    </table>
</#if>
</body>
</html>
